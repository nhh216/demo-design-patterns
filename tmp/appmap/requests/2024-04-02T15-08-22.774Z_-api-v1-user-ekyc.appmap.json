{"version":"1.12","events":[{"event":"call","http_server_request":{"path_info":"/api/v1/user-ekyc","request_method":"POST","headers":{"Content-Type":"application/json","User-Agent":"PostmanRuntime/7.37.0","Accept":"*/*","Postman-Token":"4829365a-5b25-4101-8541-cb5bacf541bc","Host":"localhost:3456","Accept-Encoding":"gzip, deflate, br","Connection":"keep-alive","Content-Length":"493"},"protocol":"HTTP/1.1"},"id":1,"thread_id":0},{"event":"call","id":2,"thread_id":0,"method_id":"store","static":true,"parameters":[{"class":"IncomingMessage","value":"[IncomingMessage: POST /]","object_id":6,"name":"req"},{"class":"ServerResponse","value":"[ServerResponse: 200]","object_id":7,"name":"res"},{"class":"Function","value":"[Function: next]"}],"defined_class":"user-ekyc.router","path":"dist/module/user-ekyc/user-ekyc.router.js","lineno":14},{"event":"call","id":3,"thread_id":0,"method_id":"selectStoreUseCaseFactory","static":true,"parameters":[{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"repo"}],"defined_class":"user-ekyc.router","path":"dist/module/user-ekyc/user-ekyc.router.js","lineno":35},{"event":"call","id":4,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"userEKYCRepository"}],"defined_class":"StoreManually","path":"dist/module/user-ekyc/use-case/store-user-ekyc-manually.use-case.js","lineno":8},{"event":"call","id":5,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"userEKYCRepository"}],"defined_class":"IStoreUserEKYCUseCase","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":9},{"event":"return","thread_id":0,"id":6,"parent_id":5,"elapsed":0.000032000999908632366},{"event":"return","thread_id":0,"id":7,"parent_id":4,"elapsed":0.00035165700001016376},{"event":"return","thread_id":0,"id":8,"parent_id":3,"return_value":{"class":"StoreManually","value":"StoreManually { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"elapsed":0.000544584000181203},{"event":"call","id":9,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"StoreManually","value":"StoreManually { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9,"name":"userEKYCService"}],"defined_class":"StoreFormController","path":"dist/module/user-ekyc/user-ekyc.controller.js","lineno":14},{"event":"return","thread_id":0,"id":10,"parent_id":9,"elapsed":0.00010360699980083155},{"event":"call","id":11,"thread_id":0,"method_id":"store","static":false,"receiver":{"class":"StoreFormController","value":"StoreFormController {\n  userEKYCService: StoreManually { userEKYCRepository: UserEKYCRepositoryImpl {} }\n}","object_id":10},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"StoreFormController","path":"dist/module/user-ekyc/user-ekyc.controller.js","lineno":17},{"event":"call","id":12,"thread_id":0,"method_id":"store","static":false,"receiver":{"class":"StoreManually","value":"StoreManually { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"StoreManually","path":"dist/module/user-ekyc/use-case/store-user-ekyc-manually.use-case.js","lineno":12},{"event":"call","id":13,"thread_id":0,"method_id":"getLatestEKYCByUserId","static":false,"receiver":{"class":"StoreManually","value":"StoreManually { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"parameters":[{"class":"Number","value":"1","name":"id"}],"defined_class":"IStoreUserEKYCUseCase","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":15},{"event":"call","id":14,"thread_id":0,"method_id":"findById","static":false,"receiver":{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8},"parameters":[{"class":"Number","value":"1","name":"formId"}],"defined_class":"UserEKYCRepositoryImpl","path":"dist/module/user-ekyc/user-ekyc.repository.js","lineno":10},{"event":"return","thread_id":0,"id":15,"parent_id":14,"return_value":{"class":"Promise","value":"Promise { null }","object_id":12},"elapsed":0.00002731199992922484},{"event":"return","thread_id":0,"id":16,"parent_id":13,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":13},"elapsed":0.0002659850001691666},{"event":"return","thread_id":0,"id":17,"parent_id":12,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":14},"elapsed":0.0010889770001085708},{"event":"return","thread_id":0,"id":18,"parent_id":11,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":15},"elapsed":0.002099345000260655},{"event":"return","thread_id":0,"id":19,"parent_id":2,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":16},"elapsed":0.005673349000062444},{"event":"call","id":20,"thread_id":0,"method_id":"constructor","static":true,"parameters":[],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":72},{"event":"return","thread_id":0,"id":21,"parent_id":20,"elapsed":0.0001556459997118509},{"event":"call","id":22,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"UserModel","value":"UserModel {}","object_id":17,"name":"user"},{"class":"object","value":"null","object_id":0,"name":"latestForm"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"ValidateCommand","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":8},{"event":"return","thread_id":0,"id":23,"parent_id":22,"elapsed":0.0000769159996707458},{"event":"call","id":24,"thread_id":0,"method_id":"setOnValidate","static":false,"receiver":{"class":"Invoker","value":"Invoker {}","object_id":18},"parameters":[{"class":"ValidateCommand","value":"ValidateCommand {\n  user: UserModel {},\n  latestForm: null,\n  payload: {\n    fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n    birthDate: '2048-01-24T12:00:54.741Z',\n    address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n    identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n    identityFrontImage: 'identityFrontImage.png',\n    identityBackImage: 'identityBackImage.png',\n    selfieImage: [Array],\n    status: 'submitted'\n  }\n}","object_id":19,"name":"command"}],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":75},{"event":"return","thread_id":0,"id":25,"parent_id":24,"elapsed":0.000032791999728942756},{"event":"call","id":26,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"},{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"userEKYCRepository"}],"defined_class":"StoreCommand","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":38},{"event":"return","thread_id":0,"id":27,"parent_id":26,"elapsed":0.000041368999973201426},{"event":"call","id":28,"thread_id":0,"method_id":"setOnStore","static":false,"receiver":{"class":"Invoker","value":"Invoker {\n  onValidate: ValidateCommand {\n    user: UserModel {},\n    latestForm: null,\n    payload: [Object]\n  }\n}","object_id":18},"parameters":[{"class":"StoreCommand","value":"StoreCommand {\n  userId: 1,\n  payload: {\n    fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n    birthDate: '2048-01-24T12:00:54.741Z',\n    address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n    identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n    identityFrontImage: 'identityFrontImage.png',\n    identityBackImage: 'identityBackImage.png',\n    selfieImage: [Array],\n    status: 'submitted'\n  },\n  userEKYCRepository: UserEKYCRepositoryImpl {}\n}","object_id":20,"name":"command"}],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":78},{"event":"return","thread_id":0,"id":29,"parent_id":28,"elapsed":0.00003583799980333424},{"event":"call","id":30,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"String","value":"'submitted'","name":"status"}],"defined_class":"CommittedCommand","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":62},{"event":"return","thread_id":0,"id":31,"parent_id":30,"elapsed":0.000027322000278218184},{"event":"call","id":32,"thread_id":0,"method_id":"setOnCommitted","static":false,"receiver":{"class":"Invoker","value":"Invoker {\n  onValidate: ValidateCommand {\n    user: UserModel {},\n    latestForm: null,\n    payload: [Object]\n  },\n  onStore: StoreCommand {\n    userId: 1,\n    payload: [Object],\n    userEKYCRepository: UserEKYCRepositoryImpl {}\n  }\n}","object_id":18},"parameters":[{"class":"CommittedCommand","value":"CommittedCommand { userId: 1, status: 'submitted' }","object_id":21,"name":"command"}],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":81},{"event":"return","thread_id":0,"id":33,"parent_id":32,"elapsed":0.000024475999907735968},{"event":"call","id":34,"thread_id":0,"method_id":"doStoreEKYCFormManually","static":false,"receiver":{"class":"Invoker","value":"Invoker {\n  onValidate: ValidateCommand {\n    user: UserModel {},\n    latestForm: null,\n    payload: [Object]\n  },\n  onStore: StoreCommand {\n    userId: 1,\n    payload: [Object],\n    userEKYCRepository: UserEKYCRepositoryImpl {}\n  },\n  onCommitted: CommittedCommand { userId: 1, status: 'submitted' }\n}","object_id":18},"parameters":[],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":84},{"event":"call","id":35,"thread_id":0,"method_id":"isCommand","static":false,"receiver":{"class":"Invoker","value":"Invoker {\n  onValidate: ValidateCommand {\n    user: UserModel {},\n    latestForm: null,\n    payload: [Object]\n  },\n  onStore: StoreCommand {\n    userId: 1,\n    payload: [Object],\n    userEKYCRepository: UserEKYCRepositoryImpl {}\n  },\n  onCommitted: CommittedCommand { userId: 1, status: 'submitted' }\n}","object_id":18},"parameters":[{"class":"ValidateCommand","value":"ValidateCommand {\n  user: UserModel {},\n  latestForm: null,\n  payload: {\n    fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n    birthDate: '2048-01-24T12:00:54.741Z',\n    address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n    identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n    identityFrontImage: 'identityFrontImage.png',\n    identityBackImage: 'identityBackImage.png',\n    selfieImage: [Array],\n    status: 'submitted'\n  }\n}","object_id":19,"name":"object"}],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":98},{"event":"return","thread_id":0,"id":36,"parent_id":35,"return_value":{"class":"Boolean","value":"true"},"elapsed":0.00007576300004075165},{"event":"call","id":37,"thread_id":0,"method_id":"execute","static":false,"receiver":{"class":"ValidateCommand","value":"ValidateCommand {\n  user: UserModel {},\n  latestForm: null,\n  payload: {\n    fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n    birthDate: '2048-01-24T12:00:54.741Z',\n    address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n    identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n    identityFrontImage: 'identityFrontImage.png',\n    identityBackImage: 'identityBackImage.png',\n    selfieImage: [Array],\n    status: 'submitted'\n  }\n}","object_id":19},"parameters":[],"defined_class":"ValidateCommand","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":13},{"event":"call","id":38,"thread_id":0,"method_id":"doValidate","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":22},"parameters":[{"class":"UserModel","value":"UserModel {}","object_id":17,"name":"user"},{"class":"object","value":"null","object_id":0,"name":"latestForm"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":6},{"event":"call","id":39,"thread_id":0,"method_id":"formStatusValidate","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":22},"parameters":[{"class":"String","value":"'submitted'","name":"status"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":12},{"event":"return","thread_id":0,"id":40,"parent_id":39,"elapsed":0.0000435029996879166},{"event":"call","id":41,"thread_id":0,"method_id":"formDataValidate","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":22},"parameters":[{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"SubmitFormValidator","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":42},{"event":"return","thread_id":0,"id":42,"parent_id":41,"elapsed":0.00005497499978446285},{"event":"call","id":43,"thread_id":0,"method_id":"userIsVerified","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":22},"parameters":[{"class":"UserModel","value":"UserModel {}","object_id":17,"name":"user"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":21},{"event":"return","thread_id":0,"id":44,"parent_id":43,"elapsed":0.0000220219999391702},{"event":"call","id":45,"thread_id":0,"method_id":"validateExistedEKYCData","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":22},"parameters":[{"class":"object","value":"null","object_id":0,"name":"latestForm"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":26},{"event":"return","thread_id":0,"id":46,"parent_id":45,"elapsed":0.00002807300006679725},{"event":"return","thread_id":0,"id":47,"parent_id":38,"elapsed":0.0008454250000795582},{"event":"return","thread_id":0,"id":48,"parent_id":37,"elapsed":0.0013466959999277606},{"event":"return","thread_id":0,"id":49,"parent_id":34,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":23},"elapsed":0.0031131490000007034},{"event":"call","id":50,"thread_id":0,"method_id":"isCommand","static":false,"receiver":{"class":"Invoker","value":"Invoker {\n  onValidate: ValidateCommand {\n    user: UserModel {},\n    latestForm: null,\n    payload: [Object]\n  },\n  onStore: StoreCommand {\n    userId: 1,\n    payload: [Object],\n    userEKYCRepository: UserEKYCRepositoryImpl {}\n  },\n  onCommitted: CommittedCommand { userId: 1, status: 'submitted' }\n}","object_id":18},"parameters":[{"class":"StoreCommand","value":"StoreCommand {\n  userId: 1,\n  payload: {\n    fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n    birthDate: '2048-01-24T12:00:54.741Z',\n    address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n    identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n    identityFrontImage: 'identityFrontImage.png',\n    identityBackImage: 'identityBackImage.png',\n    selfieImage: [Array],\n    status: 'submitted'\n  },\n  userEKYCRepository: UserEKYCRepositoryImpl {}\n}","object_id":20,"name":"object"}],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":98},{"event":"return","thread_id":0,"id":51,"parent_id":50,"return_value":{"class":"Boolean","value":"true"},"elapsed":0.000003276999905210687},{"event":"call","id":52,"thread_id":0,"method_id":"execute","static":false,"receiver":{"class":"StoreCommand","value":"StoreCommand {\n  userId: 1,\n  payload: {\n    fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n    birthDate: '2048-01-24T12:00:54.741Z',\n    address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n    identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n    identityFrontImage: 'identityFrontImage.png',\n    identityBackImage: 'identityBackImage.png',\n    selfieImage: [Array],\n    status: 'submitted'\n  },\n  userEKYCRepository: UserEKYCRepositoryImpl {}\n}","object_id":20},"parameters":[],"defined_class":"StoreCommand","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":43},{"event":"call","id":53,"thread_id":0,"method_id":"execute","static":false,"receiver":{"class":"SummitFormWith3rdApiStrategy","value":"SummitFormWith3rdApiStrategy {}","object_id":24},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"SummitFormWith3rdApiStrategy","path":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js","lineno":32},{"event":"call","id":54,"thread_id":0,"method_id":"executeEKYCData","static":false,"receiver":{"class":"SummitFormWith3rdApiStrategy","value":"SummitFormWith3rdApiStrategy {}","object_id":24},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"IExecuteStoreFormStrategy","path":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js","lineno":7},{"event":"return","thread_id":0,"id":55,"parent_id":54,"return_value":{"class":"Promise","value":"Promise {\n  UserEKYCModel {\n    userId: 1,\n    status: 'submitted',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}'\n  }\n}","object_id":25},"elapsed":0.00023741099994367687},{"event":"return","thread_id":0,"id":56,"parent_id":53,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":26},"elapsed":0.0011905500000466418},{"event":"return","thread_id":0,"id":57,"parent_id":52,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":27},"elapsed":0.001787452999906236},{"event":"call","id":58,"thread_id":0,"method_id":"save","static":false,"receiver":{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8},"parameters":[{"class":"UserEKYCModel","value":"UserEKYCModel {\n  userId: 1,\n  status: 'verified',\n  form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n  metaData: '{\"updateStatusBy\":null,\"version\":1}'\n}","object_id":28,"name":"data"}],"defined_class":"UserEKYCRepositoryImpl","path":"dist/module/user-ekyc/user-ekyc.repository.js","lineno":5},{"event":"return","thread_id":0,"id":59,"parent_id":58,"return_value":{"class":"Promise","value":"Promise {\n  {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":29},"elapsed":0.000051077000080113066},{"event":"call","id":60,"thread_id":0,"method_id":"isCommand","static":false,"receiver":{"class":"Invoker","value":"Invoker {\n  onValidate: ValidateCommand {\n    user: UserModel {},\n    latestForm: null,\n    payload: [Object]\n  },\n  onStore: StoreCommand {\n    userId: 1,\n    payload: [Object],\n    userEKYCRepository: UserEKYCRepositoryImpl {}\n  },\n  onCommitted: CommittedCommand { userId: 1, status: 'submitted' }\n}","object_id":18},"parameters":[{"class":"CommittedCommand","value":"CommittedCommand { userId: 1, status: 'submitted' }","object_id":21,"name":"object"}],"defined_class":"Invoker","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":98},{"event":"return","thread_id":0,"id":61,"parent_id":60,"return_value":{"class":"Boolean","value":"true"},"elapsed":0.0000033660003282420803},{"event":"call","id":62,"thread_id":0,"method_id":"execute","static":false,"receiver":{"class":"CommittedCommand","value":"CommittedCommand { userId: 1, status: 'submitted' }","object_id":21},"parameters":[],"defined_class":"CommittedCommand","path":"dist/module/user-ekyc/command/user-ekyc-store.command.js","lineno":66},{"event":"call","id":63,"thread_id":0,"method_id":"storeDataObserver","static":true,"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"String","value":"'submitted'","name":"status"}],"defined_class":"user-ekyc-update-status.subject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":83},{"event":"call","id":64,"thread_id":0,"method_id":"constructor","static":true,"parameters":[],"defined_class":"StoreFormSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":40},{"event":"return","thread_id":0,"id":65,"parent_id":64,"elapsed":0.000023645000055694254},{"event":"call","id":66,"thread_id":0,"method_id":"attach","static":false,"receiver":{"class":"StoreFormSubject","value":"StoreFormSubject { observers: [] }","object_id":30},"parameters":[{"class":"SendAuditLogObserverForStoreUseCase","value":"SendAuditLogObserverForStoreUseCase {}","object_id":31,"name":"observer"}],"defined_class":"StoreFormSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":43},{"event":"return","thread_id":0,"id":67,"parent_id":66,"elapsed":0.00003703099991980707},{"event":"call","id":68,"thread_id":0,"method_id":"attach","static":false,"receiver":{"class":"StoreFormSubject","value":"StoreFormSubject {\n  observers: [ SendAuditLogObserverForStoreUseCase {} ]\n}","object_id":30},"parameters":[{"class":"PushNotificationObserverForStoreUseCase","value":"PushNotificationObserverForStoreUseCase {}","object_id":32,"name":"observer"}],"defined_class":"StoreFormSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":43},{"event":"return","thread_id":0,"id":69,"parent_id":68,"elapsed":0.000002735000180109637},{"event":"call","id":70,"thread_id":0,"method_id":"changeStatus","static":false,"receiver":{"class":"StoreFormSubject","value":"StoreFormSubject {\n  observers: [\n    SendAuditLogObserverForStoreUseCase {},\n    PushNotificationObserverForStoreUseCase {}\n  ]\n}","object_id":30},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"String","value":"'submitted'","name":"updateStatusTo"}],"defined_class":"StoreFormSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":64},{"event":"call","id":71,"thread_id":0,"method_id":"notify","static":false,"receiver":{"class":"StoreFormSubject","value":"StoreFormSubject {\n  observers: [\n    SendAuditLogObserverForStoreUseCase {},\n    PushNotificationObserverForStoreUseCase {}\n  ],\n  userId: 1,\n  updateStatusTo: 'submitted'\n}","object_id":30},"parameters":[],"defined_class":"StoreFormSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":58},{"event":"call","id":72,"thread_id":0,"method_id":"committed","static":false,"receiver":{"class":"SendAuditLogObserverForStoreUseCase","value":"SendAuditLogObserverForStoreUseCase {}","object_id":31},"parameters":[{"class":"StoreFormSubject","value":"StoreFormSubject {\n  observers: [\n    SendAuditLogObserverForStoreUseCase {},\n    PushNotificationObserverForStoreUseCase {}\n  ],\n  userId: 1,\n  updateStatusTo: 'submitted'\n}","object_id":30,"name":"subject"}],"defined_class":"SendAuditLogObserverForStoreUseCase","path":"dist/module/user-ekyc/observer/user-ekyc-store.observer.js","lineno":6},{"event":"return","thread_id":0,"id":73,"parent_id":72,"elapsed":0.0002687799997147522},{"event":"call","id":74,"thread_id":0,"method_id":"committed","static":false,"receiver":{"class":"PushNotificationObserverForStoreUseCase","value":"PushNotificationObserverForStoreUseCase {}","object_id":32},"parameters":[{"class":"StoreFormSubject","value":"StoreFormSubject {\n  observers: [\n    SendAuditLogObserverForStoreUseCase {},\n    PushNotificationObserverForStoreUseCase {}\n  ],\n  userId: 1,\n  updateStatusTo: 'submitted'\n}","object_id":30,"name":"subject"}],"defined_class":"PushNotificationObserverForStoreUseCase","path":"dist/module/user-ekyc/observer/user-ekyc-store.observer.js","lineno":16},{"event":"return","thread_id":0,"id":75,"parent_id":74,"elapsed":0.0005165399998077191},{"event":"return","thread_id":0,"id":76,"parent_id":71,"elapsed":0.0018589880000945413},{"event":"return","thread_id":0,"id":77,"parent_id":70,"elapsed":0.0022109569999884116},{"event":"return","thread_id":0,"id":78,"parent_id":63,"elapsed":0.002947824999864679},{"event":"return","thread_id":0,"id":79,"parent_id":62,"return_value":{"class":"Promise","value":"Promise { undefined }","object_id":33},"elapsed":0.003210013000170875},{"event":"return","http_server_response":{"status_code":200,"headers":{"X-Powered-By":"Express","Content-Type":"application/json; charset=utf-8","Content-Length":"18","Etag":"W/\"12-2OIIAFq9pGTDCN405eGZEvLBFAw\""},"return_value":{"class":"Object","properties":[{"name":"data","class":"String"}],"value":"{ data: 'Success' }","object_id":35}},"id":80,"thread_id":0,"parent_id":1,"elapsed":0.03614851300017108}],"classMap":[{"name":"user-ekyc","type":"package","children":[{"name":"command","type":"package","children":[{"type":"class","name":"ValidateCommand","children":[{"type":"function","name":"execute","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:13"},{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:8"}]},{"type":"class","name":"StoreCommand","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:38"},{"type":"function","name":"execute","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:43"}]},{"type":"class","name":"CommittedCommand","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:62"},{"type":"function","name":"execute","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:66"}]},{"type":"class","name":"Invoker","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:72"},{"type":"function","name":"setOnValidate","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:75"},{"type":"function","name":"setOnStore","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:78"},{"type":"function","name":"setOnCommitted","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:81"},{"type":"function","name":"doStoreEKYCFormManually","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:84"},{"type":"function","name":"isCommand","static":false,"location":"dist/module/user-ekyc/command/user-ekyc-store.command.js:98"}]}]},{"name":"observer","type":"package","children":[{"type":"class","name":"PushNotificationObserverForStoreUseCase","children":[{"type":"function","name":"committed","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-store.observer.js:16"}]},{"type":"class","name":"SendAuditLogObserverForStoreUseCase","children":[{"type":"function","name":"committed","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-store.observer.js:6"}]},{"type":"class","name":"StoreFormSubject","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:40"},{"type":"function","name":"attach","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:43"},{"type":"function","name":"notify","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:58"},{"type":"function","name":"changeStatus","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:64"}]},{"type":"class","name":"user-ekyc-update-status.subject","children":[{"type":"function","name":"storeDataObserver","static":true,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:83"}]}]},{"name":"strategy","type":"package","children":[{"type":"class","name":"SummitFormWith3rdApiStrategy","children":[{"type":"function","name":"execute","static":false,"location":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js:32"}]},{"type":"class","name":"IExecuteStoreFormStrategy","children":[{"type":"function","name":"executeEKYCData","static":false,"location":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js:7"}]}]},{"name":"template","type":"package","children":[{"type":"class","name":"StoreFormValidateTemplateAbs","children":[{"type":"function","name":"formStatusValidate","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:12"},{"type":"function","name":"userIsVerified","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:21"},{"type":"function","name":"validateExistedEKYCData","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:26"},{"type":"function","name":"doValidate","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:6"}]},{"type":"class","name":"SubmitFormValidator","children":[{"type":"function","name":"formDataValidate","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:42"}]}]},{"name":"use-case","type":"package","children":[{"type":"class","name":"StoreManually","children":[{"type":"function","name":"store","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-manually.use-case.js:12"},{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-manually.use-case.js:8"}]},{"type":"class","name":"IStoreUserEKYCUseCase","children":[{"type":"function","name":"getLatestEKYCByUserId","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:15"},{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:9"}]}]},{"type":"class","name":"StoreFormController","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/user-ekyc.controller.js:14"},{"type":"function","name":"store","static":false,"location":"dist/module/user-ekyc/user-ekyc.controller.js:17"}]},{"type":"class","name":"UserEKYCRepositoryImpl","children":[{"type":"function","name":"findById","static":false,"location":"dist/module/user-ekyc/user-ekyc.repository.js:10"},{"type":"function","name":"save","static":false,"location":"dist/module/user-ekyc/user-ekyc.repository.js:5"}]},{"type":"class","name":"user-ekyc.router","children":[{"type":"function","name":"store","static":true,"location":"dist/module/user-ekyc/user-ekyc.router.js:14"},{"type":"function","name":"selectStoreUseCaseFactory","static":true,"location":"dist/module/user-ekyc/user-ekyc.router.js:35"}]}]}],"metadata":{"client":{"name":"appmap-node","version":"2.19.2","url":"https://github.com/getappmap/appmap-node"},"language":{"name":"javascript","engine":"Node.js","version":"v18.17.0"},"app":"express-clean","recorder":{"type":"requests","name":"requests"},"name":"POST /api/v1/user-ekyc (200) — 2024-04-02T15:08:22.774Z"},"eventUpdates":{"1":{"event":"call","http_server_request":{"path_info":"/api/v1/user-ekyc","request_method":"POST","headers":{"Content-Type":"application/json","User-Agent":"PostmanRuntime/7.37.0","Accept":"*/*","Postman-Token":"4829365a-5b25-4101-8541-cb5bacf541bc","Host":"localhost:3456","Accept-Encoding":"gzip, deflate, br","Connection":"keep-alive","Content-Length":"493"},"protocol":"HTTP/1.1","normalized_path_info":"/"},"id":1,"thread_id":0,"message":[{"name":"fullName","class":"String","value":"'Quia minus ut ut id ipsam id iusto repudiandae at.'"},{"name":"birthDate","class":"String","value":"'2048-01-24T12:00:54.741Z'"},{"name":"address","class":"String","value":"'Magnam quasi eligendi omnis ut aut voluptatem non minus.'"},{"name":"identityNumber","class":"String","value":"'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.'"},{"name":"identityFrontImage","class":"String","value":"'URL string'"},{"name":"identityBackImage","class":"String","value":"'URL string'"},{"name":"selfieImage","class":"Array","items":{"class":"String"},"value":"[ 'URL string', 'URL string', 'URL string' ]","size":3,"object_id":34},{"name":"status","class":"String","value":"'submitted'"}]},"16":{"event":"return","thread_id":0,"id":16,"parent_id":13,"return_value":{"class":"Promise<object>","value":"Promise { null }","object_id":13},"elapsed":0.0008073019998846576},"17":{"event":"return","thread_id":0,"id":17,"parent_id":12,"return_value":{"class":"Promise<undefined>","value":"Promise { undefined }","object_id":14},"elapsed":0.015272998999989795},"18":{"event":"return","thread_id":0,"id":18,"parent_id":11,"return_value":{"class":"Promise<undefined>","value":"Promise { undefined }","object_id":15},"elapsed":0.01626952100014023},"19":{"event":"return","thread_id":0,"id":19,"parent_id":2,"return_value":{"class":"Promise<undefined>","value":"Promise { undefined }","object_id":16},"elapsed":0.024726482999994914},"49":{"event":"return","thread_id":0,"id":49,"parent_id":34,"return_value":{"class":"Promise<undefined>","value":"Promise { undefined }","object_id":23},"elapsed":0.01076647599984426},"56":{"event":"return","thread_id":0,"id":56,"parent_id":53,"return_value":{"class":"Promise<UserEKYCModel>","value":"Promise {\n  UserEKYCModel {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":26},"elapsed":0.0015998869998838927},"57":{"event":"return","thread_id":0,"id":57,"parent_id":52,"return_value":{"class":"Promise<Object>","value":"Promise {\n  {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":27},"elapsed":0.0028334579997135734}}}