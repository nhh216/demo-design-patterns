{"version":"1.12","events":[{"event":"call","http_server_request":{"path_info":"/api/v1/user-ekyc","request_method":"POST","headers":{"Content-Type":"application/json","User-Agent":"PostmanRuntime/7.37.0","Accept":"*/*","Postman-Token":"f4a99b56-4675-4976-bbc7-2bd0434121b3","Host":"localhost:3456","Accept-Encoding":"gzip, deflate, br","Connection":"keep-alive","Content-Length":"493"},"protocol":"HTTP/1.1"},"id":1,"thread_id":0},{"event":"call","id":2,"thread_id":0,"method_id":"store","static":true,"parameters":[{"class":"IncomingMessage","value":"[IncomingMessage: POST /]","object_id":6,"name":"req"},{"class":"ServerResponse","value":"[ServerResponse: 200]","object_id":7,"name":"res"},{"class":"Function","value":"[Function: next]"}],"defined_class":"user-ekyc.router","path":"dist/module/user-ekyc/user-ekyc.router.js","lineno":14},{"event":"call","id":3,"thread_id":0,"method_id":"selectStoreUseCaseFactory","static":true,"parameters":[{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"repo"}],"defined_class":"user-ekyc.router","path":"dist/module/user-ekyc/user-ekyc.router.js","lineno":35},{"event":"call","id":4,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"userEKYCRepository"}],"defined_class":"StoreWith3rdApi","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":21},{"event":"call","id":5,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8,"name":"userEKYCRepository"}],"defined_class":"IStoreUserEKYCUseCase","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":9},{"event":"return","thread_id":0,"id":6,"parent_id":5,"elapsed":0.000034406000395392766},{"event":"return","thread_id":0,"id":7,"parent_id":4,"elapsed":0.0004202879999866127},{"event":"return","thread_id":0,"id":8,"parent_id":3,"return_value":{"class":"StoreWith3rdApi","value":"StoreWith3rdApi { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"elapsed":0.0006345389997477469},{"event":"call","id":9,"thread_id":0,"method_id":"constructor","static":true,"parameters":[{"class":"StoreWith3rdApi","value":"StoreWith3rdApi { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9,"name":"userEKYCService"}],"defined_class":"StoreFormController","path":"dist/module/user-ekyc/user-ekyc.controller.js","lineno":14},{"event":"return","thread_id":0,"id":10,"parent_id":9,"elapsed":0.00002915600043706945},{"event":"call","id":11,"thread_id":0,"method_id":"store","static":false,"receiver":{"class":"StoreFormController","value":"StoreFormController {\n  userEKYCService: StoreWith3rdApi { userEKYCRepository: UserEKYCRepositoryImpl {} }\n}","object_id":10},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"StoreFormController","path":"dist/module/user-ekyc/user-ekyc.controller.js","lineno":17},{"event":"call","id":12,"thread_id":0,"method_id":"store","static":false,"receiver":{"class":"StoreWith3rdApi","value":"StoreWith3rdApi { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"StoreWith3rdApi","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":25},{"event":"call","id":13,"thread_id":0,"method_id":"getLatestEKYCByUserId","static":false,"receiver":{"class":"StoreWith3rdApi","value":"StoreWith3rdApi { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"parameters":[{"class":"Number","value":"1","name":"id"}],"defined_class":"IStoreUserEKYCUseCase","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":15},{"event":"call","id":14,"thread_id":0,"method_id":"findById","static":false,"receiver":{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8},"parameters":[{"class":"Number","value":"1","name":"formId"}],"defined_class":"UserEKYCRepositoryImpl","path":"dist/module/user-ekyc/user-ekyc.repository.js","lineno":10},{"event":"return","thread_id":0,"id":15,"parent_id":14,"return_value":{"class":"Promise","value":"Promise { null }","object_id":12},"elapsed":0.00003277199994045077},{"event":"return","thread_id":0,"id":16,"parent_id":13,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":13},"elapsed":0.00033412199991289526},{"event":"return","thread_id":0,"id":17,"parent_id":12,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":14},"elapsed":0.0009094879997064709},{"event":"return","thread_id":0,"id":18,"parent_id":11,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":15},"elapsed":0.00182034699992073},{"event":"return","thread_id":0,"id":19,"parent_id":2,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":16},"elapsed":0.00486621899972306},{"event":"call","id":20,"thread_id":0,"method_id":"doValidate","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":17},"parameters":[{"class":"UserModel","value":"UserModel {}","object_id":18,"name":"user"},{"class":"object","value":"null","object_id":0,"name":"latestForm"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":6},{"event":"call","id":21,"thread_id":0,"method_id":"formStatusValidate","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":17},"parameters":[{"class":"String","value":"'submitted'","name":"status"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":12},{"event":"return","thread_id":0,"id":22,"parent_id":21,"elapsed":0.00005400400004873518},{"event":"call","id":23,"thread_id":0,"method_id":"formDataValidate","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":17},"parameters":[{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"SubmitFormValidator","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":42},{"event":"return","thread_id":0,"id":24,"parent_id":23,"elapsed":0.00014140099983706023},{"event":"call","id":25,"thread_id":0,"method_id":"userIsVerified","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":17},"parameters":[{"class":"UserModel","value":"UserModel {}","object_id":18,"name":"user"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":21},{"event":"return","thread_id":0,"id":26,"parent_id":25,"elapsed":0.00004311200018491945},{"event":"call","id":27,"thread_id":0,"method_id":"validateExistedEKYCData","static":false,"receiver":{"class":"SubmitFormValidator","value":"SubmitFormValidator {}","object_id":17},"parameters":[{"class":"object","value":"null","object_id":0,"name":"latestForm"}],"defined_class":"StoreFormValidateTemplateAbs","path":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js","lineno":26},{"event":"return","thread_id":0,"id":28,"parent_id":27,"elapsed":0.0000431930002378067},{"event":"return","thread_id":0,"id":29,"parent_id":20,"elapsed":0.001455326000268542},{"event":"call","id":30,"thread_id":0,"method_id":"execute","static":false,"receiver":{"class":"SummitFormWith3rdApiStrategy","value":"SummitFormWith3rdApiStrategy {}","object_id":19},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"SummitFormWith3rdApiStrategy","path":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js","lineno":32},{"event":"call","id":31,"thread_id":0,"method_id":"executeEKYCData","static":false,"receiver":{"class":"SummitFormWith3rdApiStrategy","value":"SummitFormWith3rdApiStrategy {}","object_id":19},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"Object","properties":[{"name":"fullName","class":"String"},{"name":"birthDate","class":"String"},{"name":"address","class":"String"},{"name":"identityNumber","class":"String"},{"name":"identityFrontImage","class":"String"},{"name":"identityBackImage","class":"String"},{"name":"selfieImage","class":"Array","items":{"class":"String"}},{"name":"status","class":"String"}],"value":"{\n  fullName: 'Quia minus ut ut id ipsam id iusto repudiandae at.',\n  birthDate: '2048-01-24T12:00:54.741Z',\n  address: 'Magnam quasi eligendi omnis ut aut voluptatem non minus.',\n  identityNumber: 'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.',\n  identityFrontImage: 'identityFrontImage.png',\n  identityBackImage: 'identityBackImage.png',\n  selfieImage: [ 'selfieImage1.png', 'selfieImage2.png', 'selfieImage1.png' ],\n  status: 'submitted'\n}","object_id":11,"name":"payload"}],"defined_class":"IExecuteStoreFormStrategy","path":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js","lineno":7},{"event":"return","thread_id":0,"id":32,"parent_id":31,"return_value":{"class":"Promise","value":"Promise {\n  UserEKYCModel {\n    userId: 1,\n    status: 'submitted',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}'\n  }\n}","object_id":20},"elapsed":0.0002674239999578276},{"event":"return","thread_id":0,"id":33,"parent_id":30,"return_value":{"class":"Promise","value":"Promise { <pending> }","object_id":21},"elapsed":0.0013977560001876554},{"event":"call","id":34,"thread_id":0,"method_id":"save","static":false,"receiver":{"class":"UserEKYCRepositoryImpl","value":"UserEKYCRepositoryImpl {}","object_id":8},"parameters":[{"class":"UserEKYCModel","value":"UserEKYCModel {\n  userId: 1,\n  status: 'verified',\n  form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n  metaData: '{\"updateStatusBy\":null,\"version\":1}'\n}","object_id":22,"name":"data"}],"defined_class":"UserEKYCRepositoryImpl","path":"dist/module/user-ekyc/user-ekyc.repository.js","lineno":5},{"event":"return","thread_id":0,"id":35,"parent_id":34,"return_value":{"class":"Promise","value":"Promise {\n  {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":23},"elapsed":0.00006079599961594795},{"event":"call","id":36,"thread_id":0,"method_id":"afterCommitted","static":false,"receiver":{"class":"StoreWith3rdApi","value":"StoreWith3rdApi { userEKYCRepository: UserEKYCRepositoryImpl {} }","object_id":9},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"String","value":"'verified'","name":"status"}],"defined_class":"IStoreUserEKYCUseCase","path":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js","lineno":12},{"event":"call","id":37,"thread_id":0,"method_id":"updateStatusObserver","static":true,"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"String","value":"'verified'","name":"status"}],"defined_class":"user-ekyc-update-status.subject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":72},{"event":"call","id":38,"thread_id":0,"method_id":"constructor","static":true,"parameters":[],"defined_class":"UpdateStatusSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":7},{"event":"return","thread_id":0,"id":39,"parent_id":38,"elapsed":0.00003503700008877786},{"event":"call","id":40,"thread_id":0,"method_id":"attach","static":false,"receiver":{"class":"UpdateStatusSubject","value":"UpdateStatusSubject { observers: [] }","object_id":24},"parameters":[{"class":"SendAuditLogObserver","value":"SendAuditLogObserver {}","object_id":25,"name":"observer"}],"defined_class":"UpdateStatusSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":10},{"event":"return","thread_id":0,"id":41,"parent_id":40,"elapsed":0.000061007000113022514},{"event":"call","id":42,"thread_id":0,"method_id":"attach","static":false,"receiver":{"class":"UpdateStatusSubject","value":"UpdateStatusSubject { observers: [ SendAuditLogObserver {} ] }","object_id":24},"parameters":[{"class":"PushNotificationObserver","value":"PushNotificationObserver {}","object_id":26,"name":"observer"}],"defined_class":"UpdateStatusSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":10},{"event":"return","thread_id":0,"id":43,"parent_id":42,"elapsed":0.000003786999968724558},{"event":"call","id":44,"thread_id":0,"method_id":"attach","static":false,"receiver":{"class":"UpdateStatusSubject","value":"UpdateStatusSubject {\n  observers: [ SendAuditLogObserver {}, PushNotificationObserver {} ]\n}","object_id":24},"parameters":[{"class":"AggregateUserVerifiedObserver","value":"AggregateUserVerifiedObserver {}","object_id":27,"name":"observer"}],"defined_class":"UpdateStatusSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":10},{"event":"return","thread_id":0,"id":45,"parent_id":44,"elapsed":0.000003467000169621315},{"event":"call","id":46,"thread_id":0,"method_id":"changeStatus","static":false,"receiver":{"class":"UpdateStatusSubject","value":"UpdateStatusSubject {\n  observers: [\n    SendAuditLogObserver {},\n    PushNotificationObserver {},\n    AggregateUserVerifiedObserver {}\n  ]\n}","object_id":24},"parameters":[{"class":"Number","value":"1","name":"userId"},{"class":"String","value":"'verified'","name":"updateStatusTo"}],"defined_class":"UpdateStatusSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":31},{"event":"call","id":47,"thread_id":0,"method_id":"notify","static":false,"receiver":{"class":"UpdateStatusSubject","value":"UpdateStatusSubject {\n  observers: [\n    SendAuditLogObserver {},\n    PushNotificationObserver {},\n    AggregateUserVerifiedObserver {}\n  ],\n  userId: 1,\n  updateStatusTo: 'verified'\n}","object_id":24},"parameters":[],"defined_class":"UpdateStatusSubject","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js","lineno":25},{"event":"call","id":48,"thread_id":0,"method_id":"statusUpdated","static":false,"receiver":{"class":"SendAuditLogObserver","value":"SendAuditLogObserver {}","object_id":25},"parameters":[{"class":"UpdateStatusSubject","value":"UpdateStatusSubject {\n  observers: [\n    SendAuditLogObserver {},\n    PushNotificationObserver {},\n    AggregateUserVerifiedObserver {}\n  ],\n  userId: 1,\n  updateStatusTo: 'verified'\n}","object_id":24,"name":"subject"}],"defined_class":"SendAuditLogObserver","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.observer.js","lineno":6},{"event":"return","thread_id":0,"id":49,"parent_id":48,"elapsed":0.00039402700031132554},{"event":"call","id":50,"thread_id":0,"method_id":"statusUpdated","static":false,"receiver":{"class":"PushNotificationObserver","value":"PushNotificationObserver {}","object_id":26},"parameters":[{"class":"UpdateStatusSubject","value":"UpdateStatusSubject {\n  observers: [\n    SendAuditLogObserver {},\n    PushNotificationObserver {},\n    AggregateUserVerifiedObserver {}\n  ],\n  userId: 1,\n  updateStatusTo: 'verified'\n}","object_id":24,"name":"subject"}],"defined_class":"PushNotificationObserver","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.observer.js","lineno":16},{"event":"return","thread_id":0,"id":51,"parent_id":50,"elapsed":0.00016444599987153197},{"event":"call","id":52,"thread_id":0,"method_id":"statusUpdated","static":false,"receiver":{"class":"AggregateUserVerifiedObserver","value":"AggregateUserVerifiedObserver {}","object_id":27},"parameters":[{"class":"UpdateStatusSubject","value":"UpdateStatusSubject {\n  observers: [\n    SendAuditLogObserver {},\n    PushNotificationObserver {},\n    AggregateUserVerifiedObserver {}\n  ],\n  userId: 1,\n  updateStatusTo: 'verified'\n}","object_id":24,"name":"subject"}],"defined_class":"AggregateUserVerifiedObserver","path":"dist/module/user-ekyc/observer/user-ekyc-update-status.observer.js","lineno":26},{"event":"return","thread_id":0,"id":53,"parent_id":52,"elapsed":0.00031298100020649144},{"event":"return","thread_id":0,"id":54,"parent_id":47,"elapsed":0.0018549240003267187},{"event":"return","thread_id":0,"id":55,"parent_id":46,"elapsed":0.002257567000015115},{"event":"return","thread_id":0,"id":56,"parent_id":37,"elapsed":0.0034844940000766655},{"event":"return","thread_id":0,"id":57,"parent_id":36,"return_value":{"class":"Promise","value":"Promise { undefined }","object_id":28},"elapsed":0.003888681000262295},{"event":"return","http_server_response":{"status_code":200,"headers":{"X-Powered-By":"Express","Content-Type":"application/json; charset=utf-8","Content-Length":"18","Etag":"W/\"12-2OIIAFq9pGTDCN405eGZEvLBFAw\""},"return_value":{"class":"Object","properties":[{"name":"data","class":"String"}],"value":"{ data: 'Success' }","object_id":30}},"id":58,"thread_id":0,"parent_id":1,"elapsed":0.033149496000078216}],"classMap":[{"name":"user-ekyc","type":"package","children":[{"name":"observer","type":"package","children":[{"type":"class","name":"PushNotificationObserver","children":[{"type":"function","name":"statusUpdated","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.observer.js:16"}]},{"type":"class","name":"AggregateUserVerifiedObserver","children":[{"type":"function","name":"statusUpdated","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.observer.js:26"}]},{"type":"class","name":"SendAuditLogObserver","children":[{"type":"function","name":"statusUpdated","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.observer.js:6"}]},{"type":"class","name":"UpdateStatusSubject","children":[{"type":"function","name":"attach","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:10"},{"type":"function","name":"notify","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:25"},{"type":"function","name":"changeStatus","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:31"},{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:7"}]},{"type":"class","name":"user-ekyc-update-status.subject","children":[{"type":"function","name":"updateStatusObserver","static":true,"location":"dist/module/user-ekyc/observer/user-ekyc-update-status.subject.js:72"}]}]},{"name":"strategy","type":"package","children":[{"type":"class","name":"SummitFormWith3rdApiStrategy","children":[{"type":"function","name":"execute","static":false,"location":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js:32"}]},{"type":"class","name":"IExecuteStoreFormStrategy","children":[{"type":"function","name":"executeEKYCData","static":false,"location":"dist/module/user-ekyc/strategy/user-ekyc-store-data.strategy.js:7"}]}]},{"name":"template","type":"package","children":[{"type":"class","name":"StoreFormValidateTemplateAbs","children":[{"type":"function","name":"formStatusValidate","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:12"},{"type":"function","name":"userIsVerified","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:21"},{"type":"function","name":"validateExistedEKYCData","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:26"},{"type":"function","name":"doValidate","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:6"}]},{"type":"class","name":"SubmitFormValidator","children":[{"type":"function","name":"formDataValidate","static":false,"location":"dist/module/user-ekyc/template/user-ekyc-store-form.validate.js:42"}]}]},{"name":"use-case","type":"package","children":[{"type":"class","name":"IStoreUserEKYCUseCase","children":[{"type":"function","name":"afterCommitted","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:12"},{"type":"function","name":"getLatestEKYCByUserId","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:15"},{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:9"}]},{"type":"class","name":"StoreWith3rdApi","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:21"},{"type":"function","name":"store","static":false,"location":"dist/module/user-ekyc/use-case/store-user-ekyc-with-3rd-api.use-case.js:25"}]}]},{"type":"class","name":"StoreFormController","children":[{"type":"function","name":"constructor","static":false,"location":"dist/module/user-ekyc/user-ekyc.controller.js:14"},{"type":"function","name":"store","static":false,"location":"dist/module/user-ekyc/user-ekyc.controller.js:17"}]},{"type":"class","name":"UserEKYCRepositoryImpl","children":[{"type":"function","name":"findById","static":false,"location":"dist/module/user-ekyc/user-ekyc.repository.js:10"},{"type":"function","name":"save","static":false,"location":"dist/module/user-ekyc/user-ekyc.repository.js:5"}]},{"type":"class","name":"user-ekyc.router","children":[{"type":"function","name":"store","static":true,"location":"dist/module/user-ekyc/user-ekyc.router.js:14"},{"type":"function","name":"selectStoreUseCaseFactory","static":true,"location":"dist/module/user-ekyc/user-ekyc.router.js:35"}]}]}],"metadata":{"client":{"name":"appmap-node","version":"2.19.2","url":"https://github.com/getappmap/appmap-node"},"language":{"name":"javascript","engine":"Node.js","version":"v18.17.0"},"app":"express-clean","recorder":{"type":"requests","name":"requests"},"name":"POST /api/v1/user-ekyc (200) — 2024-04-02T14:59:27.040Z"},"eventUpdates":{"1":{"event":"call","http_server_request":{"path_info":"/api/v1/user-ekyc","request_method":"POST","headers":{"Content-Type":"application/json","User-Agent":"PostmanRuntime/7.37.0","Accept":"*/*","Postman-Token":"f4a99b56-4675-4976-bbc7-2bd0434121b3","Host":"localhost:3456","Accept-Encoding":"gzip, deflate, br","Connection":"keep-alive","Content-Length":"493"},"protocol":"HTTP/1.1","normalized_path_info":"/"},"id":1,"thread_id":0,"message":[{"name":"fullName","class":"String","value":"'Quia minus ut ut id ipsam id iusto repudiandae at.'"},{"name":"birthDate","class":"String","value":"'2048-01-24T12:00:54.741Z'"},{"name":"address","class":"String","value":"'Magnam quasi eligendi omnis ut aut voluptatem non minus.'"},{"name":"identityNumber","class":"String","value":"'Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.'"},{"name":"identityFrontImage","class":"String","value":"'URL string'"},{"name":"identityBackImage","class":"String","value":"'URL string'"},{"name":"selfieImage","class":"Array","items":{"class":"String"},"value":"[ 'URL string', 'URL string', 'URL string' ]","size":3,"object_id":29},{"name":"status","class":"String","value":"'submitted'"}]},"16":{"event":"return","thread_id":0,"id":16,"parent_id":13,"return_value":{"class":"Promise<object>","value":"Promise { null }","object_id":13},"elapsed":0.0010351490000175545},"17":{"event":"return","thread_id":0,"id":17,"parent_id":12,"return_value":{"class":"Promise<Object>","value":"Promise {\n  {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":14},"elapsed":0.012005985999621771},"18":{"event":"return","thread_id":0,"id":18,"parent_id":11,"return_value":{"class":"Promise<Object>","value":"Promise {\n  {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":15},"elapsed":0.012964957999884064},"19":{"event":"return","thread_id":0,"id":19,"parent_id":2,"return_value":{"class":"Promise<undefined>","value":"Promise { undefined }","object_id":16},"elapsed":0.019567792999623634},"33":{"event":"return","thread_id":0,"id":33,"parent_id":30,"return_value":{"class":"Promise<UserEKYCModel>","value":"Promise {\n  UserEKYCModel {\n    userId: 1,\n    status: 'verified',\n    form: '{\"fullName\":\"Quia minus ut ut id ipsam id iusto repudiandae at.\",\"birthDate\":\"2048-01-24T12:00:54.741Z\",\"address\":\"Magnam quasi eligendi omnis ut aut voluptatem non minus.\",\"identityNumber\":\"Aut aspernatur enim cum quo voluptate voluptas cum dignissimos.\",\"identityFrontImage\":\"URL string\",\"identityBackImage\":\"URL string\",\"selfieImage\":[\"URL string\",\"URL string\",\"URL string\"],\"status\":\"submitted\"}',\n    metaData: '{\"updateStatusBy\":null,\"version\":1}'\n  }\n}","object_id":21},"elapsed":0.0016926719999901252}}}